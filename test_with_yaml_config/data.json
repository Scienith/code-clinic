{
  "version": "1.0",
  "timestamp": "2025-09-03T16:50:10.859991",
  "project_root": "src",
  "config": {
    "import_rules": {
      "white_list": [
        "codeclinic.types",
        "codeclinic.stub",
        "codeclinic.config",
        "codeclinic.node_types"
      ],
      "allow_cross_package": false,
      "allow_upward_import": false,
      "allow_skip_levels": false
    },
    "aggregate": "module",
    "format": "svg"
  },
  "summary": {
    "total_nodes": 18,
    "total_modules": 17,
    "total_packages": 1,
    "total_import_edges": 34,
    "total_child_edges": 17,
    "total_functions": 0,
    "total_stubs": 0
  },
  "nodes": {
    "codeclinic": {
      "name": "codeclinic",
      "node_type": "package",
      "file_path": "/Users/junjiecai/Desktop/scientith_projects/code_clinic/src/codeclinic/__init__.py",
      "functions": [],
      "classes": {},
      "imports": [
        "codeclinic.stub",
        "codeclinic.api"
      ],
      "functions_total": 0,
      "functions_public": 0,
      "stubs": 0,
      "stub_ratio": 0.0,
      "parent": null,
      "children": [
        "codeclinic.json_output",
        "codeclinic.graph_analysis",
        "codeclinic.stub",
        "codeclinic.types",
        "codeclinic.ast_scanner",
        "codeclinic.graphviz_render",
        "codeclinic.cli",
        "codeclinic.violations_analysis",
        "codeclinic.stub_report",
        "codeclinic.data_collector",
        "codeclinic.config_loader",
        "codeclinic.import_rules",
        "codeclinic.stub_analysis",
        "codeclinic.node_types",
        "codeclinic.config",
        "codeclinic.api",
        "codeclinic.__main__"
      ],
      "package_depth": 0,
      "graph_depth": 0
    },
    "codeclinic.config_loader": {
      "name": "codeclinic.config_loader",
      "node_type": "module",
      "file_path": "/Users/junjiecai/Desktop/scientith_projects/code_clinic/src/codeclinic/config_loader.py",
      "functions": [
        {
          "name": "load_config",
          "full_name": "load_config",
          "is_stub": false,
          "is_public": true,
          "docstring": "加载配置文件\n    \n    Args:\n        config_path: 指定配置文件路径，如果为None则自动查找\n    \n    Returns:\n        ExtendedConfig: 加载的配置",
          "line_number": 66,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "find_config_file",
          "full_name": "find_config_file",
          "is_stub": false,
          "is_public": true,
          "docstring": "按优先级查找配置文件\n    \n    Returns:\n        Path: 找到的配置文件路径，如果没找到返回None",
          "line_number": 89,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "_load_config_file",
          "full_name": "_load_config_file",
          "is_stub": false,
          "is_public": false,
          "docstring": "加载指定的配置文件",
          "line_number": 116,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "_load_yaml_config",
          "full_name": "_load_yaml_config",
          "is_stub": false,
          "is_public": false,
          "docstring": "加载YAML配置文件",
          "line_number": 131,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "_load_toml_config",
          "full_name": "_load_toml_config",
          "is_stub": false,
          "is_public": false,
          "docstring": "加载TOML配置文件",
          "line_number": 145,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "_has_codeclinic_config",
          "full_name": "_has_codeclinic_config",
          "is_stub": false,
          "is_public": false,
          "docstring": "检查pyproject.toml是否包含codeclinic配置",
          "line_number": 162,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "_parse_config_data",
          "full_name": "_parse_config_data",
          "is_stub": false,
          "is_public": false,
          "docstring": "解析配置数据",
          "line_number": 175,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "create_example_config",
          "full_name": "create_example_config",
          "is_stub": false,
          "is_public": true,
          "docstring": "创建示例配置文件内容",
          "line_number": 226,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "save_example_config",
          "full_name": "save_example_config",
          "is_stub": false,
          "is_public": true,
          "docstring": "保存示例配置文件",
          "line_number": 265,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "load_legacy_config",
          "full_name": "load_legacy_config",
          "is_stub": false,
          "is_public": true,
          "docstring": "加载旧版配置格式，保持向后兼容",
          "line_number": 277,
          "is_method": false,
          "class_name": null
        }
      ],
      "classes": {
        "ImportRulesConfig": [],
        "ExtendedConfig": [
          {
            "name": "to_legacy_config",
            "full_name": "ExtendedConfig.to_legacy_config",
            "is_stub": false,
            "is_public": true,
            "docstring": "转换为旧版Config对象，保持向后兼容",
            "line_number": 52,
            "is_method": true,
            "class_name": "ExtendedConfig"
          }
        ]
      },
      "imports": [
        "codeclinic.config"
      ],
      "functions_total": 0,
      "functions_public": 0,
      "stubs": 0,
      "stub_ratio": 0.0,
      "parent": "codeclinic",
      "children": [],
      "package_depth": 1,
      "graph_depth": 2
    },
    "codeclinic.data_collector": {
      "name": "codeclinic.data_collector",
      "node_type": "module",
      "file_path": "/Users/junjiecai/Desktop/scientith_projects/code_clinic/src/codeclinic/data_collector.py",
      "functions": [
        {
          "name": "collect_project_data",
          "full_name": "collect_project_data",
          "is_stub": false,
          "is_public": true,
          "docstring": "收集完整的项目数据",
          "line_number": 19,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "_collect_python_files",
          "full_name": "_collect_python_files",
          "is_stub": false,
          "is_public": false,
          "docstring": "收集所有Python文件",
          "line_number": 61,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "_walk_python_files",
          "full_name": "_walk_python_files",
          "is_stub": false,
          "is_public": false,
          "docstring": "遍历目录收集Python文件",
          "line_number": 85,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "_should_exclude_dir",
          "full_name": "_should_exclude_dir",
          "is_stub": false,
          "is_public": false,
          "docstring": "检查目录是否应被排除",
          "line_number": 104,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "_should_include_file",
          "full_name": "_should_include_file",
          "is_stub": false,
          "is_public": false,
          "docstring": "检查文件是否应被包含",
          "line_number": 121,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "_path_to_module_name",
          "full_name": "_path_to_module_name",
          "is_stub": false,
          "is_public": false,
          "docstring": "将相对路径转换为模块名",
          "line_number": 145,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "_identify_nodes",
          "full_name": "_identify_nodes",
          "is_stub": false,
          "is_public": false,
          "docstring": "识别所有节点，区分module和package",
          "line_number": 161,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "_analyze_node_content",
          "full_name": "_analyze_node_content",
          "is_stub": false,
          "is_public": false,
          "docstring": "分析节点内容（函数、类等）",
          "line_number": 210,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "_analyze_node_imports",
          "full_name": "_analyze_node_imports",
          "is_stub": false,
          "is_public": false,
          "docstring": "分析节点的导入关系",
          "line_number": 226,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "_resolve_import",
          "full_name": "_resolve_import",
          "is_stub": false,
          "is_public": false,
          "docstring": "解析导入名称到实际模块",
          "line_number": 259,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "_build_relationships",
          "full_name": "_build_relationships",
          "is_stub": false,
          "is_public": false,
          "docstring": "构建导入关系和包含关系",
          "line_number": 273,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "_calculate_depths",
          "full_name": "_calculate_depths",
          "is_stub": false,
          "is_public": false,
          "docstring": "计算两种深度",
          "line_number": 291,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "_calculate_graph_depths",
          "full_name": "_calculate_graph_depths",
          "is_stub": false,
          "is_public": false,
          "docstring": "计算依赖图中每个节点的最大深度",
          "line_number": 302,
          "is_method": false,
          "class_name": null
        }
      ],
      "classes": {
        "ImportVisitor": [
          {
            "name": "visit_Import",
            "full_name": "ImportVisitor.visit_Import",
            "is_stub": false,
            "is_public": true,
            "docstring": null,
            "line_number": 237,
            "is_method": true,
            "class_name": "ImportVisitor"
          },
          {
            "name": "visit_ImportFrom",
            "full_name": "ImportVisitor.visit_ImportFrom",
            "is_stub": false,
            "is_public": true,
            "docstring": null,
            "line_number": 241,
            "is_method": true,
            "class_name": "ImportVisitor"
          }
        ],
        "_FunctionVisitor": [
          {
            "name": "__init__",
            "full_name": "_FunctionVisitor.__init__",
            "is_stub": false,
            "is_public": false,
            "docstring": null,
            "line_number": 354,
            "is_method": true,
            "class_name": "_FunctionVisitor"
          },
          {
            "name": "visit_ClassDef",
            "full_name": "_FunctionVisitor.visit_ClassDef",
            "is_stub": false,
            "is_public": true,
            "docstring": null,
            "line_number": 362,
            "is_method": true,
            "class_name": "_FunctionVisitor"
          },
          {
            "name": "visit_FunctionDef",
            "full_name": "_FunctionVisitor.visit_FunctionDef",
            "is_stub": false,
            "is_public": true,
            "docstring": null,
            "line_number": 369,
            "is_method": true,
            "class_name": "_FunctionVisitor"
          },
          {
            "name": "visit_AsyncFunctionDef",
            "full_name": "_FunctionVisitor.visit_AsyncFunctionDef",
            "is_stub": false,
            "is_public": true,
            "docstring": null,
            "line_number": 373,
            "is_method": true,
            "class_name": "_FunctionVisitor"
          },
          {
            "name": "_process_function",
            "full_name": "_FunctionVisitor._process_function",
            "is_stub": false,
            "is_public": false,
            "docstring": null,
            "line_number": 377,
            "is_method": true,
            "class_name": "_FunctionVisitor"
          },
          {
            "name": "_has_stub_decorator",
            "full_name": "_FunctionVisitor._has_stub_decorator",
            "is_stub": false,
            "is_public": false,
            "docstring": "检查是否有@stub装饰器",
            "line_number": 401,
            "is_method": true,
            "class_name": "_FunctionVisitor"
          },
          {
            "name": "_get_decorator_name",
            "full_name": "_FunctionVisitor._get_decorator_name",
            "is_stub": false,
            "is_public": false,
            "docstring": "获取装饰器名称",
            "line_number": 409,
            "is_method": true,
            "class_name": "_FunctionVisitor"
          },
          {
            "name": "_get_docstring",
            "full_name": "_FunctionVisitor._get_docstring",
            "is_stub": false,
            "is_public": false,
            "docstring": "提取函数文档字符串",
            "line_number": 427,
            "is_method": true,
            "class_name": "_FunctionVisitor"
          }
        ]
      },
      "imports": [
        "codeclinic.node_types"
      ],
      "functions_total": 0,
      "functions_public": 0,
      "stubs": 0,
      "stub_ratio": 0.0,
      "parent": "codeclinic",
      "children": [],
      "package_depth": 1,
      "graph_depth": 2
    },
    "codeclinic.config": {
      "name": "codeclinic.config",
      "node_type": "module",
      "file_path": "/Users/junjiecai/Desktop/scientith_projects/code_clinic/src/codeclinic/config.py",
      "functions": [
        {
          "name": "_merge_cfg",
          "full_name": "_merge_cfg",
          "is_stub": false,
          "is_public": false,
          "docstring": "合并配置数据到Config对象",
          "line_number": 72,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "create_example_legacy_config",
          "full_name": "create_example_legacy_config",
          "is_stub": false,
          "is_public": true,
          "docstring": "创建示例配置文件（TOML格式）",
          "line_number": 106,
          "is_method": false,
          "class_name": null
        }
      ],
      "classes": {
        "ImportRulesConfig": [],
        "Config": [
          {
            "name": "from_files",
            "full_name": "Config.from_files",
            "is_stub": false,
            "is_public": true,
            "docstring": null,
            "line_number": 42,
            "is_method": true,
            "class_name": "Config"
          }
        ]
      },
      "imports": [
        "codeclinic.config_loader"
      ],
      "functions_total": 0,
      "functions_public": 0,
      "stubs": 0,
      "stub_ratio": 0.0,
      "parent": "codeclinic",
      "children": [],
      "package_depth": 1,
      "graph_depth": 2
    },
    "codeclinic.import_rules": {
      "name": "codeclinic.import_rules",
      "node_type": "module",
      "file_path": "/Users/junjiecai/Desktop/scientith_projects/code_clinic/src/codeclinic/import_rules.py",
      "functions": [
        {
          "name": "check_import_violations",
          "full_name": "check_import_violations",
          "is_stub": false,
          "is_public": true,
          "docstring": "检查项目的导入违规\n    \n    Args:\n        project_data: 项目数据，应该包含import_rules配置\n        \n    Returns:\n        List[ImportViolation]: 违规列表",
          "line_number": 200,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "categorize_edges",
          "full_name": "categorize_edges",
          "is_stub": false,
          "is_public": true,
          "docstring": "将导入边分类为合法和违规\n    \n    Args:\n        project_data: 项目数据\n        violations: 违规列表\n        \n    Returns:\n        Tuple[Set, Set]: (合法边集合, 违规边集合)",
          "line_number": 236,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "generate_violation_summary",
          "full_name": "generate_violation_summary",
          "is_stub": false,
          "is_public": true,
          "docstring": "生成违规摘要统计\n    \n    Args:\n        violations: 违规列表\n        \n    Returns:\n        Dict: 违规统计信息",
          "line_number": 256,
          "is_method": false,
          "class_name": null
        }
      ],
      "classes": {
        "ImportRuleChecker": [
          {
            "name": "__init__",
            "full_name": "ImportRuleChecker.__init__",
            "is_stub": false,
            "is_public": false,
            "docstring": null,
            "line_number": 16,
            "is_method": true,
            "class_name": "ImportRuleChecker"
          },
          {
            "name": "check_violations",
            "full_name": "ImportRuleChecker.check_violations",
            "is_stub": false,
            "is_public": true,
            "docstring": "检查所有导入违规\n        \n        Args:\n            project_data: 项目数据\n            \n        Returns:\n            List[ImportViolation]: 违规列表",
            "line_number": 19,
            "is_method": true,
            "class_name": "ImportRuleChecker"
          },
          {
            "name": "_check_single_import",
            "full_name": "ImportRuleChecker._check_single_import",
            "is_stub": false,
            "is_public": false,
            "docstring": "检查单个导入关系\n        \n        Args:\n            from_node: 导入方节点\n            to_node: 被导入节点\n            \n        Returns:\n            ImportViolation: 如果违规则返回违规信息，否则返回None",
            "line_number": 44,
            "is_method": true,
            "class_name": "ImportRuleChecker"
          },
          {
            "name": "_is_in_whitelist",
            "full_name": "ImportRuleChecker._is_in_whitelist",
            "is_stub": false,
            "is_public": false,
            "docstring": "检查模块是否在白名单中",
            "line_number": 79,
            "is_method": true,
            "class_name": "ImportRuleChecker"
          },
          {
            "name": "_check_cross_package_violation",
            "full_name": "ImportRuleChecker._check_cross_package_violation",
            "is_stub": false,
            "is_public": false,
            "docstring": "检查跨包导入违规\n        \n        跨包导入指：不在同一个父包下的包之间的导入\n        例如：packageA.moduleX 导入 packageB.moduleY",
            "line_number": 86,
            "is_method": true,
            "class_name": "ImportRuleChecker"
          },
          {
            "name": "_check_upward_import_violation",
            "full_name": "ImportRuleChecker._check_upward_import_violation",
            "is_stub": false,
            "is_public": false,
            "docstring": "检查向上导入违规\n        \n        向上导入指：子模块导入父模块或祖先模块\n        例如：package.subpackage.module 导入 package",
            "line_number": 114,
            "is_method": true,
            "class_name": "ImportRuleChecker"
          },
          {
            "name": "_check_skip_level_violation",
            "full_name": "ImportRuleChecker._check_skip_level_violation",
            "is_stub": false,
            "is_public": false,
            "docstring": "检查跳级导入违规\n        \n        跳级导入指：跳过中间层级的导入\n        例如：a.b 导入 a.c.d.e，跳过了 a.c\n        \n        规则：只允许导入直接子级或同级模块",
            "line_number": 140,
            "is_method": true,
            "class_name": "ImportRuleChecker"
          },
          {
            "name": "_are_siblings",
            "full_name": "ImportRuleChecker._are_siblings",
            "is_stub": false,
            "is_public": false,
            "docstring": "检查两个模块是否为同级（有相同的直接父级）",
            "line_number": 173,
            "is_method": true,
            "class_name": "ImportRuleChecker"
          },
          {
            "name": "_is_direct_child",
            "full_name": "ImportRuleChecker._is_direct_child",
            "is_stub": false,
            "is_public": false,
            "docstring": "检查to_node是否为from_node的直接子级",
            "line_number": 185,
            "is_method": true,
            "class_name": "ImportRuleChecker"
          },
          {
            "name": "_is_direct_parent",
            "full_name": "ImportRuleChecker._is_direct_parent",
            "is_stub": false,
            "is_public": false,
            "docstring": "检查to_node是否为from_node的直接父级",
            "line_number": 192,
            "is_method": true,
            "class_name": "ImportRuleChecker"
          }
        ]
      },
      "imports": [
        "codeclinic.node_types",
        "codeclinic.config_loader"
      ],
      "functions_total": 0,
      "functions_public": 0,
      "stubs": 0,
      "stub_ratio": 0.0,
      "parent": "codeclinic",
      "children": [],
      "package_depth": 1,
      "graph_depth": 3
    },
    "codeclinic.violations_analysis": {
      "name": "codeclinic.violations_analysis",
      "node_type": "module",
      "file_path": "/Users/junjiecai/Desktop/scientith_projects/code_clinic/src/codeclinic/violations_analysis.py",
      "functions": [
        {
          "name": "analyze_violations",
          "full_name": "analyze_violations",
          "is_stub": false,
          "is_public": true,
          "docstring": "分析项目的导入违规\n    \n    Args:\n        project_data: 项目数据\n        \n    Returns:\n        Dict: 违规分析结果",
          "line_number": 14,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "save_violations_report",
          "full_name": "save_violations_report",
          "is_stub": false,
          "is_public": true,
          "docstring": "保存违规分析报告\n    \n    Args:\n        violations_data: 违规分析数据\n        project_data: 项目数据\n        output_dir: 输出目录\n        \n    Returns:\n        Path: violations.json文件路径",
          "line_number": 50,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "_prepare_json_data",
          "full_name": "_prepare_json_data",
          "is_stub": false,
          "is_public": false,
          "docstring": "准备JSON输出数据",
          "line_number": 88,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "_extract_rules_config",
          "full_name": "_extract_rules_config",
          "is_stub": false,
          "is_public": false,
          "docstring": "提取导入规则配置",
          "line_number": 154,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "_calculate_node_violation_stats",
          "full_name": "_calculate_node_violation_stats",
          "is_stub": false,
          "is_public": false,
          "docstring": "计算每个节点的违规统计",
          "line_number": 172,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "_generate_recommendations",
          "full_name": "_generate_recommendations",
          "is_stub": false,
          "is_public": false,
          "docstring": "生成修复建议",
          "line_number": 205,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "_generate_violations_graph",
          "full_name": "_generate_violations_graph",
          "is_stub": false,
          "is_public": false,
          "docstring": "生成违规可视化图",
          "line_number": 246,
          "is_method": false,
          "class_name": null
        }
      ],
      "classes": {},
      "imports": [
        "codeclinic.node_types",
        "codeclinic.graphviz_render",
        "codeclinic.import_rules"
      ],
      "functions_total": 0,
      "functions_public": 0,
      "stubs": 0,
      "stub_ratio": 0.0,
      "parent": "codeclinic",
      "children": [],
      "package_depth": 1,
      "graph_depth": 2
    },
    "codeclinic.graphviz_render": {
      "name": "codeclinic.graphviz_render",
      "node_type": "module",
      "file_path": "/Users/junjiecai/Desktop/scientith_projects/code_clinic/src/codeclinic/graphviz_render.py",
      "functions": [
        {
          "name": "_color_for_ratio",
          "full_name": "_color_for_ratio",
          "is_stub": false,
          "is_public": false,
          "docstring": null,
          "line_number": 9,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "_get_short_name",
          "full_name": "_get_short_name",
          "is_stub": false,
          "is_public": false,
          "docstring": "Get a shortened display name for a module.",
          "line_number": 18,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "render_graph",
          "full_name": "render_graph",
          "is_stub": false,
          "is_public": true,
          "docstring": null,
          "line_number": 36,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "render_violations_graph",
          "full_name": "render_violations_graph",
          "is_stub": false,
          "is_public": true,
          "docstring": "渲染违规检测图，用红色表示违规边，绿色表示合法边",
          "line_number": 93,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "render_stub_heatmap",
          "full_name": "render_stub_heatmap",
          "is_stub": false,
          "is_public": true,
          "docstring": "渲染Stub热力图，节点颜色从白色（0% stub）到红色（100% stub）渐变",
          "line_number": 149,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "_stub_ratio_to_color",
          "full_name": "_stub_ratio_to_color",
          "is_stub": false,
          "is_public": false,
          "docstring": "将stub比例转换为颜色，从白色（0%）到红色（100%）的渐变\n    \n    Args:\n        ratio: stub比例 (0.0 到 1.0)\n        \n    Returns:\n        str: 十六进制颜色值",
          "line_number": 219,
          "is_method": false,
          "class_name": null
        }
      ],
      "classes": {},
      "imports": [
        "codeclinic.types",
        "codeclinic.node_types"
      ],
      "functions_total": 0,
      "functions_public": 0,
      "stubs": 0,
      "stub_ratio": 0.0,
      "parent": "codeclinic",
      "children": [],
      "package_depth": 1,
      "graph_depth": 2
    },
    "codeclinic.stub_analysis": {
      "name": "codeclinic.stub_analysis",
      "node_type": "module",
      "file_path": "/Users/junjiecai/Desktop/scientith_projects/code_clinic/src/codeclinic/stub_analysis.py",
      "functions": [
        {
          "name": "analyze_stub_completeness",
          "full_name": "analyze_stub_completeness",
          "is_stub": false,
          "is_public": true,
          "docstring": "分析项目的Stub完整度\n    \n    Args:\n        project_data: 项目数据\n        \n    Returns:\n        Dict: Stub完整度分析结果",
          "line_number": 13,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "_calculate_node_stub_stats",
          "full_name": "_calculate_node_stub_stats",
          "is_stub": false,
          "is_public": false,
          "docstring": "计算每个节点的stub统计",
          "line_number": 61,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "_calculate_depth_stub_stats",
          "full_name": "_calculate_depth_stub_stats",
          "is_stub": false,
          "is_public": false,
          "docstring": "计算按深度分组的stub统计",
          "line_number": 87,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "_calculate_completion_distribution",
          "full_name": "_calculate_completion_distribution",
          "is_stub": false,
          "is_public": false,
          "docstring": "计算完整度分布",
          "line_number": 134,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "_get_completion_status",
          "full_name": "_get_completion_status",
          "is_stub": false,
          "is_public": false,
          "docstring": "获取完整度状态描述",
          "line_number": 163,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "_calculate_priority_score",
          "full_name": "_calculate_priority_score",
          "is_stub": false,
          "is_public": false,
          "docstring": "计算节点的实现优先级得分\n    \n    优先级考虑因素：\n    1. 依赖图深度低的优先（被更多模块依赖）\n    2. stub比例高的优先（更需要实现）\n    3. 公共函数多的优先（影响面大）",
          "line_number": 179,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "save_stub_report",
          "full_name": "save_stub_report",
          "is_stub": false,
          "is_public": true,
          "docstring": "保存Stub完整度报告\n    \n    Args:\n        stub_data: Stub分析数据\n        project_data: 项目数据\n        output_dir: 输出目录\n        \n    Returns:\n        Path: stub_summary.json文件路径",
          "line_number": 211,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "_prepare_stub_json_data",
          "full_name": "_prepare_stub_json_data",
          "is_stub": false,
          "is_public": false,
          "docstring": "准备Stub分析的JSON输出数据",
          "line_number": 249,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "_generate_stub_recommendations",
          "full_name": "_generate_stub_recommendations",
          "is_stub": false,
          "is_public": false,
          "docstring": "生成Stub实现建议",
          "line_number": 311,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "_generate_stub_heatmap",
          "full_name": "_generate_stub_heatmap",
          "is_stub": false,
          "is_public": false,
          "docstring": "生成Stub热力图",
          "line_number": 361,
          "is_method": false,
          "class_name": null
        }
      ],
      "classes": {},
      "imports": [
        "codeclinic.node_types",
        "codeclinic.graphviz_render"
      ],
      "functions_total": 0,
      "functions_public": 0,
      "stubs": 0,
      "stub_ratio": 0.0,
      "parent": "codeclinic",
      "children": [],
      "package_depth": 1,
      "graph_depth": 2
    },
    "codeclinic.types": {
      "name": "codeclinic.types",
      "node_type": "module",
      "file_path": "/Users/junjiecai/Desktop/scientith_projects/code_clinic/src/codeclinic/types.py",
      "functions": [],
      "classes": {
        "ModuleStats": [
          {
            "name": "stub_ratio",
            "full_name": "ModuleStats.stub_ratio",
            "is_stub": false,
            "is_public": true,
            "docstring": null,
            "line_number": 14,
            "is_method": true,
            "class_name": "ModuleStats"
          }
        ],
        "StubFunction": []
      },
      "imports": [],
      "functions_total": 0,
      "functions_public": 0,
      "stubs": 0,
      "stub_ratio": 0.0,
      "parent": "codeclinic",
      "children": [],
      "package_depth": 1,
      "graph_depth": 2
    },
    "codeclinic.json_output": {
      "name": "codeclinic.json_output",
      "node_type": "module",
      "file_path": "/Users/junjiecai/Desktop/scientith_projects/code_clinic/src/codeclinic/json_output.py",
      "functions": [
        {
          "name": "serialize_to_json",
          "full_name": "serialize_to_json",
          "is_stub": false,
          "is_public": true,
          "docstring": "Serialize analysis results to JSON-serializable dictionary.",
          "line_number": 10,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "save_json_output",
          "full_name": "save_json_output",
          "is_stub": false,
          "is_public": true,
          "docstring": "Save analysis results as JSON file.",
          "line_number": 56,
          "is_method": false,
          "class_name": null
        }
      ],
      "classes": {},
      "imports": [
        "codeclinic.types"
      ],
      "functions_total": 0,
      "functions_public": 0,
      "stubs": 0,
      "stub_ratio": 0.0,
      "parent": "codeclinic",
      "children": [],
      "package_depth": 1,
      "graph_depth": 2
    },
    "codeclinic.api": {
      "name": "codeclinic.api",
      "node_type": "module",
      "file_path": "/Users/junjiecai/Desktop/scientith_projects/code_clinic/src/codeclinic/api.py",
      "functions": [
        {
          "name": "analyze_project",
          "full_name": "analyze_project",
          "is_stub": false,
          "is_public": true,
          "docstring": "Analyze a Python project for dependencies and stub metrics.\n    \n    Args:\n        path: Root path of the project to analyze\n        output: Output file base name (without extension)\n        format: Output format (svg, png, pdf, dot)\n        include: File patterns to include (default: [\"**/*.py\"])\n        exclude: File patterns to exclude (default: standard excludes)\n        count_private: Whether to count private functions in metrics\n    \n    Returns:\n        Dictionary containing:\n        - modules: Dict[str, ModuleStats] - Module statistics\n        - summary: Dict with overall project statistics\n        - files: Dict with generated file paths (if output specified)",
          "line_number": 14,
          "is_method": false,
          "class_name": null
        }
      ],
      "classes": {},
      "imports": [
        "codeclinic.types",
        "codeclinic.ast_scanner",
        "codeclinic.graphviz_render"
      ],
      "functions_total": 0,
      "functions_public": 0,
      "stubs": 0,
      "stub_ratio": 0.0,
      "parent": "codeclinic",
      "children": [],
      "package_depth": 1,
      "graph_depth": 1
    },
    "codeclinic.ast_scanner": {
      "name": "codeclinic.ast_scanner",
      "node_type": "module",
      "file_path": "/Users/junjiecai/Desktop/scientith_projects/code_clinic/src/codeclinic/ast_scanner.py",
      "functions": [
        {
          "name": "scan_project_ast",
          "full_name": "scan_project_ast",
          "is_stub": false,
          "is_public": true,
          "docstring": "Scan project using pure AST analysis.\n    \n    Can analyze:\n    - Any Python files (.py)\n    - Any directory structure \n    - Multiple independent paths\n    - No requirement for __init__.py files",
          "line_number": 14,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "_collect_python_files",
          "full_name": "_collect_python_files",
          "is_stub": false,
          "is_public": false,
          "docstring": "Collect all Python files matching include/exclude patterns.",
          "line_number": 73,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "_should_exclude_dir",
          "full_name": "_should_exclude_dir",
          "is_stub": false,
          "is_public": false,
          "docstring": "Check if directory should be excluded.",
          "line_number": 95,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "_should_include_file",
          "full_name": "_should_include_file",
          "is_stub": false,
          "is_public": false,
          "docstring": "Check if file should be included based on patterns.",
          "line_number": 109,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "_path_to_module_name",
          "full_name": "_path_to_module_name",
          "is_stub": false,
          "is_public": false,
          "docstring": "Convert file path to module name.",
          "line_number": 137,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "_extract_imports",
          "full_name": "_extract_imports",
          "is_stub": false,
          "is_public": false,
          "docstring": "Extract all import statements from a Python file.",
          "line_number": 165,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "_resolve_import",
          "full_name": "_resolve_import",
          "is_stub": false,
          "is_public": false,
          "docstring": "Resolve an import name to an actual module name.\n    \n    This is a simplified resolver - in a real implementation you might want\n    to handle relative imports, namespace packages, etc.",
          "line_number": 194,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "_count_functions_and_stubs",
          "full_name": "_count_functions_and_stubs",
          "is_stub": false,
          "is_public": false,
          "docstring": "Count functions and @stub decorators in a file.",
          "line_number": 218,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "get_docstring",
          "full_name": "get_docstring",
          "is_stub": false,
          "is_public": true,
          "docstring": "Extract docstring from function/method node.",
          "line_number": 232,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "is_stub_decorator",
          "full_name": "is_stub_decorator",
          "is_stub": false,
          "is_public": true,
          "docstring": "Check if decorator is @stub.",
          "line_number": 240,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "_name_of",
          "full_name": "_name_of",
          "is_stub": false,
          "is_public": false,
          "docstring": null,
          "line_number": 242,
          "is_method": false,
          "class_name": null
        }
      ],
      "classes": {
        "ImportVisitor": [
          {
            "name": "visit_Import",
            "full_name": "ImportVisitor.visit_Import",
            "is_stub": false,
            "is_public": true,
            "docstring": null,
            "line_number": 177,
            "is_method": true,
            "class_name": "ImportVisitor"
          },
          {
            "name": "visit_ImportFrom",
            "full_name": "ImportVisitor.visit_ImportFrom",
            "is_stub": false,
            "is_public": true,
            "docstring": null,
            "line_number": 181,
            "is_method": true,
            "class_name": "ImportVisitor"
          }
        ],
        "FunctionVisitor": [
          {
            "name": "__init__",
            "full_name": "FunctionVisitor.__init__",
            "is_stub": false,
            "is_public": false,
            "docstring": null,
            "line_number": 264,
            "is_method": true,
            "class_name": "FunctionVisitor"
          },
          {
            "name": "visit_ClassDef",
            "full_name": "FunctionVisitor.visit_ClassDef",
            "is_stub": false,
            "is_public": true,
            "docstring": null,
            "line_number": 268,
            "is_method": true,
            "class_name": "FunctionVisitor"
          },
          {
            "name": "visit_FunctionDef",
            "full_name": "FunctionVisitor.visit_FunctionDef",
            "is_stub": false,
            "is_public": true,
            "docstring": null,
            "line_number": 274,
            "is_method": true,
            "class_name": "FunctionVisitor"
          },
          {
            "name": "visit_AsyncFunctionDef",
            "full_name": "FunctionVisitor.visit_AsyncFunctionDef",
            "is_stub": false,
            "is_public": true,
            "docstring": null,
            "line_number": 303,
            "is_method": true,
            "class_name": "FunctionVisitor"
          }
        ]
      },
      "imports": [
        "codeclinic.types"
      ],
      "functions_total": 0,
      "functions_public": 0,
      "stubs": 0,
      "stub_ratio": 0.0,
      "parent": "codeclinic",
      "children": [],
      "package_depth": 1,
      "graph_depth": 2
    },
    "codeclinic.cli": {
      "name": "codeclinic.cli",
      "node_type": "module",
      "file_path": "/Users/junjiecai/Desktop/scientith_projects/code_clinic/src/codeclinic/cli.py",
      "functions": [
        {
          "name": "main",
          "full_name": "main",
          "is_stub": false,
          "is_public": true,
          "docstring": null,
          "line_number": 32,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "_save_project_data",
          "full_name": "_save_project_data",
          "is_stub": false,
          "is_public": false,
          "docstring": "保存完整的项目数据为JSON文件",
          "line_number": 123,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "_aggregate_to_packages_new",
          "full_name": "_aggregate_to_packages_new",
          "is_stub": false,
          "is_public": false,
          "docstring": "新版的包聚合函数",
          "line_number": 209,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "pkg_of",
          "full_name": "pkg_of",
          "is_stub": false,
          "is_public": true,
          "docstring": null,
          "line_number": 214,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "_print_project_summary",
          "full_name": "_print_project_summary",
          "is_stub": false,
          "is_public": false,
          "docstring": "打印项目摘要信息",
          "line_number": 250,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "_print_final_summary",
          "full_name": "_print_final_summary",
          "is_stub": false,
          "is_public": false,
          "docstring": "打印最终分析摘要",
          "line_number": 281,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "_run_legacy_analysis",
          "full_name": "_run_legacy_analysis",
          "is_stub": false,
          "is_public": false,
          "docstring": "运行旧版分析流程，保持向后兼容",
          "line_number": 310,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "_aggregate_to_packages",
          "full_name": "_aggregate_to_packages",
          "is_stub": false,
          "is_public": false,
          "docstring": null,
          "line_number": 362,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "pkg_of",
          "full_name": "pkg_of",
          "is_stub": false,
          "is_public": true,
          "docstring": null,
          "line_number": 364,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "_print_summary",
          "full_name": "_print_summary",
          "is_stub": false,
          "is_public": false,
          "docstring": null,
          "line_number": 386,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "cli_main",
          "full_name": "cli_main",
          "is_stub": false,
          "is_public": true,
          "docstring": "Entry point for CLI tool when installed via pip.",
          "line_number": 418,
          "is_method": false,
          "class_name": null
        }
      ],
      "classes": {},
      "imports": [
        "codeclinic.json_output",
        "codeclinic.types",
        "codeclinic.ast_scanner",
        "codeclinic.graphviz_render",
        "codeclinic.violations_analysis",
        "codeclinic.stub_report",
        "codeclinic.data_collector",
        "codeclinic.config_loader",
        "codeclinic.stub_analysis",
        "codeclinic.node_types",
        "codeclinic.config"
      ],
      "functions_total": 0,
      "functions_public": 0,
      "stubs": 0,
      "stub_ratio": 0.0,
      "parent": "codeclinic",
      "children": [],
      "package_depth": 1,
      "graph_depth": 1
    },
    "codeclinic.stub_report": {
      "name": "codeclinic.stub_report",
      "node_type": "module",
      "file_path": "/Users/junjiecai/Desktop/scientith_projects/code_clinic/src/codeclinic/stub_report.py",
      "functions": [
        {
          "name": "generate_stub_report",
          "full_name": "generate_stub_report",
          "is_stub": false,
          "is_public": true,
          "docstring": "Generate a comprehensive report of all @stub decorated functions.",
          "line_number": 10,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "save_stub_report",
          "full_name": "save_stub_report",
          "is_stub": false,
          "is_public": true,
          "docstring": "Save stub function report as JSON file.",
          "line_number": 55,
          "is_method": false,
          "class_name": null
        }
      ],
      "classes": {},
      "imports": [
        "codeclinic.types",
        "codeclinic.graph_analysis"
      ],
      "functions_total": 0,
      "functions_public": 0,
      "stubs": 0,
      "stub_ratio": 0.0,
      "parent": "codeclinic",
      "children": [],
      "package_depth": 1,
      "graph_depth": 2
    },
    "codeclinic.graph_analysis": {
      "name": "codeclinic.graph_analysis",
      "node_type": "module",
      "file_path": "/Users/junjiecai/Desktop/scientith_projects/code_clinic/src/codeclinic/graph_analysis.py",
      "functions": [
        {
          "name": "calculate_module_depths",
          "full_name": "calculate_module_depths",
          "is_stub": false,
          "is_public": true,
          "docstring": "Calculate the maximum depth of each module in the dependency graph.\n    \n    Depth is defined as the longest path from any root node (nodes with no incoming edges)\n    to the current node.",
          "line_number": 8,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "add_graph_depths_to_stubs",
          "full_name": "add_graph_depths_to_stubs",
          "is_stub": false,
          "is_public": true,
          "docstring": "Add graph depth information to stub functions and return as list of dictionaries.",
          "line_number": 65,
          "is_method": false,
          "class_name": null
        }
      ],
      "classes": {},
      "imports": [
        "codeclinic.types"
      ],
      "functions_total": 0,
      "functions_public": 0,
      "stubs": 0,
      "stub_ratio": 0.0,
      "parent": "codeclinic",
      "children": [],
      "package_depth": 1,
      "graph_depth": 3
    },
    "codeclinic.node_types": {
      "name": "codeclinic.node_types",
      "node_type": "module",
      "file_path": "/Users/junjiecai/Desktop/scientith_projects/code_clinic/src/codeclinic/node_types.py",
      "functions": [],
      "classes": {
        "NodeType": [],
        "FunctionInfo": [],
        "NodeInfo": [
          {
            "name": "__post_init__",
            "full_name": "NodeInfo.__post_init__",
            "is_stub": false,
            "is_public": false,
            "docstring": "计算衍生属性",
            "line_number": 58,
            "is_method": true,
            "class_name": "NodeInfo"
          }
        ],
        "ImportViolation": [],
        "ProjectData": [
          {
            "name": "modules",
            "full_name": "ProjectData.modules",
            "is_stub": false,
            "is_public": true,
            "docstring": "获取所有module节点",
            "line_number": 100,
            "is_method": true,
            "class_name": "ProjectData"
          },
          {
            "name": "packages",
            "full_name": "ProjectData.packages",
            "is_stub": false,
            "is_public": true,
            "docstring": "获取所有package节点",
            "line_number": 105,
            "is_method": true,
            "class_name": "ProjectData"
          },
          {
            "name": "all_functions",
            "full_name": "ProjectData.all_functions",
            "is_stub": false,
            "is_public": true,
            "docstring": "获取所有函数信息",
            "line_number": 110,
            "is_method": true,
            "class_name": "ProjectData"
          },
          {
            "name": "stub_functions",
            "full_name": "ProjectData.stub_functions",
            "is_stub": false,
            "is_public": true,
            "docstring": "获取所有stub函数",
            "line_number": 120,
            "is_method": true,
            "class_name": "ProjectData"
          }
        ]
      },
      "imports": [],
      "functions_total": 0,
      "functions_public": 0,
      "stubs": 0,
      "stub_ratio": 0.0,
      "parent": "codeclinic",
      "children": [],
      "package_depth": 1,
      "graph_depth": 3
    },
    "codeclinic.__main__": {
      "name": "codeclinic.__main__",
      "node_type": "module",
      "file_path": "/Users/junjiecai/Desktop/scientith_projects/code_clinic/src/codeclinic/__main__.py",
      "functions": [],
      "classes": {},
      "imports": [
        "codeclinic.cli"
      ],
      "functions_total": 0,
      "functions_public": 0,
      "stubs": 0,
      "stub_ratio": 0.0,
      "parent": "codeclinic",
      "children": [],
      "package_depth": 1,
      "graph_depth": 0
    },
    "codeclinic.stub": {
      "name": "codeclinic.stub",
      "node_type": "module",
      "file_path": "/Users/junjiecai/Desktop/scientith_projects/code_clinic/src/codeclinic/stub.py",
      "functions": [
        {
          "name": "stub",
          "full_name": "stub",
          "is_stub": false,
          "is_public": true,
          "docstring": "Mark a function/method as a *stub* and warn on call.\n\n    - Sets attribute ``__codeclinic_stub__ = True`` for runtime tools.\n    - Emits a ``UserWarning`` whenever the function is called.",
          "line_number": 9,
          "is_method": false,
          "class_name": null
        },
        {
          "name": "wrapper",
          "full_name": "wrapper",
          "is_stub": false,
          "is_public": true,
          "docstring": null,
          "line_number": 18,
          "is_method": false,
          "class_name": null
        }
      ],
      "classes": {},
      "imports": [],
      "functions_total": 0,
      "functions_public": 0,
      "stubs": 0,
      "stub_ratio": 0.0,
      "parent": "codeclinic",
      "children": [],
      "package_depth": 1,
      "graph_depth": 1
    }
  },
  "import_edges": [
    [
      "codeclinic.__main__",
      "codeclinic.cli"
    ],
    [
      "codeclinic.ast_scanner",
      "codeclinic.types"
    ],
    [
      "codeclinic.stub_report",
      "codeclinic.graph_analysis"
    ],
    [
      "codeclinic.import_rules",
      "codeclinic.node_types"
    ],
    [
      "codeclinic.cli",
      "codeclinic.json_output"
    ],
    [
      "codeclinic",
      "codeclinic.stub"
    ],
    [
      "codeclinic.stub_report",
      "codeclinic.types"
    ],
    [
      "codeclinic.api",
      "codeclinic.ast_scanner"
    ],
    [
      "codeclinic.json_output",
      "codeclinic.types"
    ],
    [
      "codeclinic.cli",
      "codeclinic.config"
    ],
    [
      "codeclinic.cli",
      "codeclinic.ast_scanner"
    ],
    [
      "codeclinic.stub_analysis",
      "codeclinic.graphviz_render"
    ],
    [
      "codeclinic.cli",
      "codeclinic.stub_analysis"
    ],
    [
      "codeclinic.cli",
      "codeclinic.config_loader"
    ],
    [
      "codeclinic.violations_analysis",
      "codeclinic.graphviz_render"
    ],
    [
      "codeclinic.violations_analysis",
      "codeclinic.node_types"
    ],
    [
      "codeclinic.violations_analysis",
      "codeclinic.import_rules"
    ],
    [
      "codeclinic.stub_analysis",
      "codeclinic.node_types"
    ],
    [
      "codeclinic.data_collector",
      "codeclinic.node_types"
    ],
    [
      "codeclinic.api",
      "codeclinic.graphviz_render"
    ],
    [
      "codeclinic.graphviz_render",
      "codeclinic.node_types"
    ],
    [
      "codeclinic",
      "codeclinic.api"
    ],
    [
      "codeclinic.cli",
      "codeclinic.graphviz_render"
    ],
    [
      "codeclinic.cli",
      "codeclinic.node_types"
    ],
    [
      "codeclinic.cli",
      "codeclinic.stub_report"
    ],
    [
      "codeclinic.api",
      "codeclinic.types"
    ],
    [
      "codeclinic.cli",
      "codeclinic.violations_analysis"
    ],
    [
      "codeclinic.config_loader",
      "codeclinic.config"
    ],
    [
      "codeclinic.graphviz_render",
      "codeclinic.types"
    ],
    [
      "codeclinic.config",
      "codeclinic.config_loader"
    ],
    [
      "codeclinic.graph_analysis",
      "codeclinic.types"
    ],
    [
      "codeclinic.cli",
      "codeclinic.data_collector"
    ],
    [
      "codeclinic.cli",
      "codeclinic.types"
    ],
    [
      "codeclinic.import_rules",
      "codeclinic.config_loader"
    ]
  ],
  "child_edges": [
    [
      "codeclinic",
      "codeclinic.stub_analysis"
    ],
    [
      "codeclinic",
      "codeclinic.config_loader"
    ],
    [
      "codeclinic",
      "codeclinic.violations_analysis"
    ],
    [
      "codeclinic",
      "codeclinic.__main__"
    ],
    [
      "codeclinic",
      "codeclinic.stub_report"
    ],
    [
      "codeclinic",
      "codeclinic.cli"
    ],
    [
      "codeclinic",
      "codeclinic.config"
    ],
    [
      "codeclinic",
      "codeclinic.ast_scanner"
    ],
    [
      "codeclinic",
      "codeclinic.data_collector"
    ],
    [
      "codeclinic",
      "codeclinic.types"
    ],
    [
      "codeclinic",
      "codeclinic.api"
    ],
    [
      "codeclinic",
      "codeclinic.graphviz_render"
    ],
    [
      "codeclinic",
      "codeclinic.stub"
    ],
    [
      "codeclinic",
      "codeclinic.json_output"
    ],
    [
      "codeclinic",
      "codeclinic.import_rules"
    ],
    [
      "codeclinic",
      "codeclinic.node_types"
    ],
    [
      "codeclinic",
      "codeclinic.graph_analysis"
    ]
  ]
}